<%# locals: (day_of_week:, windows:, schedule_link:, selected_user:) %>
<div class="bg-white shadow-sm ring-1 ring-gray-900/5 rounded-xl p-4">
  <h3 class="text-sm font-semibold text-gray-900 mb-3"><%= day_name(day_of_week) %></h3>

  <div id="day_<%= day_of_week %>_windows" class="space-y-2">
    <% windows.each do |window| %>
      <%= render "availability_windows/window", window: window, schedule_link: schedule_link %>
    <% end %>

    <% if windows.empty? %>
      <p class="text-sm text-gray-400 italic" id="day_<%= day_of_week %>_empty">No windows set</p>
    <% end %>
  </div>

  <%= render "availability_windows/form",
    schedule_link: schedule_link,
    window: AvailabilityWindow.new(schedule_link: schedule_link, user: selected_user, day_of_week: day_of_week),
    selected_user: selected_user %>
</div>
